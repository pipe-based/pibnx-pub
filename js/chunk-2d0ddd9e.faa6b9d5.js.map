{"version":3,"sources":["webpack:///./src/views/nft/pibnx/index.vue","webpack:///./src/views/nft/pibnx/index.vue?08c4"],"names":["style","ref","amount","placeholder","min","max","step","type","mint","loading","isMinting","nftPibnxPrice","nftPibnxBalanceEffect","nftPibnxBalance","data","nftPibnxTokens","stripe","label","width","default","scope","$index","row","tokenId","birthBlock","remainTimeLens","remainBlock","computed","methods","days","Math","floor","hours","toFixed","console","log","this","undefined","warning","$refs","focus","$store","dispatch","then","success","catch","err","error","__exports__","render"],"mappings":"4IACOA,MAAA,uB,+BAWA,M,EAEA,gCAAiC,aAA1B,sBAAkB,G,+BAEtB,a,+BAG0B,kB,+BAAqB,6B,+BAGhD,kB,+BAEiE,W,mSAvBxE,gCAgDM,MAhDN,EAgDM,CA/CJ,yBAQmB,GAPjBC,IAAI,a,WACK,EAAAC,O,qDAAA,EAAAA,OAAM,IACfC,YAAY,cACXC,IAAK,EACLC,IAAK,GACLC,KAAM,EACPN,MAAA,iB,uBAEF,yBAEC,GAFUO,KAAK,UAAW,QAAK,2BAAU,EAAAC,KAAI,aAAGC,QAAS,EAAAC,W,+BACvD,iBAAE,C,oCAEL,gCAAgE,UAA7D,E,6BAAiC,IAAC,6BAAG,EAAAC,eAAgB,OAAI,KAC5D,gCAiCM,YAhCJ,gCAKK,W,EAJK,yBACP,GADaX,MAAA,gBAAmB,C,8BAAC,iBAA2B,C,0DAAxB,EAAAY,uBAAqB,O,mCACzD,IAAC,6BAAG,EAAAC,iBAAe,GAClB,yBAA+C,GAAzCb,MAAA,gBAAmB,C,8BAAC,iBAAc,C,gBAG5C,gCAGI,U,EADF,yBAAkE,GAA5DA,MAAA,gBAAmB,C,8BAAC,iBAAiC,C,0DAAT,IAArB,EAAAY,uBAAqB,O,UAEpD,yBAqBW,GArBAE,KAAM,EAAAC,eAAgBC,OAAA,I,+BAC/B,iBAIkB,CAJlB,yBAIkB,GAJDC,MAAM,KAAKC,MAAM,M,CACrBC,QAAO,sBAChB,SADuB,GACvB,MADuB,C,0DACpBC,EAAMC,OAAM,U,MAGnB,yBAIkB,GAJDJ,MAAM,UAAUC,MAAM,O,CAC1BC,QAAO,sBAChB,SADuB,GACvB,MADuB,C,0DACpBC,EAAME,IAAIC,SAAO,O,MAGxB,yBAIkB,GAJDN,MAAM,SAASC,MAAM,O,CACzBC,QAAO,sBAChB,SADuB,GACvB,MADuB,C,0DACpBC,EAAME,IAAIE,YAAU,O,MAG3B,yBAIkB,GAJDP,MAAM,OAAOC,MAAM,O,CACvBC,QAAO,sBAChB,SADuB,GACvB,MADuB,C,0DACpB,EAAAM,eAAeL,EAAME,IAAII,cAAW,O,mHAWpC,GACbZ,KAAM,WACJ,MAAO,CACLZ,OAAQ,EACRQ,WAAW,IAGfiB,SAAU,kBACL,eAAW,CACZ,kBACA,wBACA,iBACA,mBAGJC,QAAS,CACPH,eAAgB,SAASC,GACvB,GAAIA,GAAe,EACjB,YAEF,GAAIA,EAAc,MAAc,CAC9B,IAAMG,EAAOC,KAAKC,MAAML,EAAU,OAC5BM,GAAUN,EAAU,MAAX,MAA4CO,QAAQ,GACnE,iBAAWJ,EAAX,aAAoBG,EAApB,OAEA,IAAM,GAASN,EAAU,MAAeO,QAAQ,GAChD,iBAAW,EAAX,QAGJzB,KAAM,WAAF,8CAAE,4GACJ0B,QAAQC,IAAI,eAAgBC,KAAKlC,eACdmC,GAAfD,KAAKlC,QAAsC,GAAfkC,KAAKlC,QAAekC,KAAKlC,OAAS,IAF9D,uBAGF,OAAUoC,QAAQ,gBAClBF,KAAKG,MAAM,cAAcC,QAJvB,iCAOJJ,KAAK1B,WAAY,EAPb,SAQE0B,KAAKK,OACRC,SAAS,aAAc,CAAExC,OAAQkC,KAAKlC,SACtCyC,MAAK,WACJ,EAAKjC,WAAY,EACjB,OAAUkC,QAAQ,WAClB,EAAKH,OAAOC,SAAS,sBAEtBG,OAAM,SAACC,GACNZ,QAAQC,IAAIW,GACZ,EAAKpC,WAAY,EACjB,OAAUqC,MAAM,WAlBhB,OAoBJX,KAAK1B,WAAY,EApBb,gDAAF,qDAAE,K,qBC/EV,MAAMsC,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,KAErD","file":"js/chunk-2d0ddd9e.faa6b9d5.js","sourcesContent":["<template>\n  <div style=\"text-align:left;\">\n    <el-input-number\n      ref=\"nft-amount\"\n      v-model=\"amount\"\n      placeholder=\"mint amount\"\n      :min=\"1\"\n      :max=\"20\"\n      :step=\"5\"\n      style=\"width:180px;\"\n    ></el-input-number>\n    <el-button type=\"primary\" @click.prevent=\"mint\" :loading=\"isMinting\"\n      >购买</el-button\n    >\n    <p><label>Price per PIBNX : </label> {{ nftPibnxPrice }} BNB</p>\n    <div>\n      <h2>\n        you had <font style=\"color:blue;\">{{ nftPibnxBalanceEffect }}</font\n        >/{{ nftPibnxBalance\n        }}<font style=\"color:grey;\">[effect/total]</font> PIBNX(pipe binaryX\n        nft)\n      </h2>\n      <p>\n        you can hold\n        <font style=\"color:blue;\">{{ nftPibnxBalanceEffect * 100 }}</font> heros\n      </p>\n      <el-table :data=\"nftPibnxTokens\" stripe>\n        <el-table-column label=\"序号\" width=\"50\">\n          <template #default=\"scope\">\n            {{ scope.$index + 1 }}\n          </template>\n        </el-table-column>\n        <el-table-column label=\"tokenId\" width=\"100\">\n          <template #default=\"scope\">\n            {{ scope.row.tokenId }}\n          </template>\n        </el-table-column>\n        <el-table-column label=\"购买区块高度\" width=\"100\">\n          <template #default=\"scope\">\n            {{ scope.row.birthBlock }}\n          </template>\n        </el-table-column>\n        <el-table-column label=\"剩余时长\" width=\"150\">\n          <template #default=\"scope\">\n            {{ remainTimeLens(scope.row.remainBlock) }}\n          </template>\n        </el-table-column>\n      </el-table>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { ElMessage } from \"element-plus\";\nimport { mapGetters } from \"vuex\";\nexport default {\n  data: function() {\n    return {\n      amount: 1,\n      isMinting: false,\n    };\n  },\n  computed: {\n    ...mapGetters([\n      \"nftPibnxBalance\",\n      \"nftPibnxBalanceEffect\",\n      \"nftPibnxTokens\",\n      \"nftPibnxPrice\",\n    ]),\n  },\n  methods: {\n    remainTimeLens: function(remainBlock) {\n      if (remainBlock <= 0) {\n        return `已过期`;\n      }\n      if (remainBlock > 20 * 60 * 24) {\n        const days = Math.floor(remainBlock / (20 * 60 * 24));\n        const hours = ((remainBlock % (20 * 60 * 24)) / (20 * 60)).toFixed(2);\n        return ` ${days}天 ${hours}小时 `;\n      } else {\n        const hours = (remainBlock / (20 * 60)).toFixed(2);\n        return ` ${hours}小时 `;\n      }\n    },\n    mint: async function() {\n      console.log(\"mint amount=\", this.amount);\n      if (this.amount == undefined || this.amount == 0 || this.amount > 20) {\n        ElMessage.warning(\"购买数量不对[1-20]\");\n        this.$refs[\"nft-amount\"].focus();\n        return;\n      }\n      this.isMinting = true;\n      await this.$store\n        .dispatch(\"pibnx/mint\", { amount: this.amount })\n        .then(() => {\n          this.isMinting = false;\n          ElMessage.success(\"success\");\n          this.$store.dispatch(\"pibnx/balanceOf\");\n        })\n        .catch((err) => {\n          console.log(err);\n          this.isMinting = false;\n          ElMessage.error(\"fail\");\n        });\n      this.isMinting = false;\n    },\n  },\n};\n</script>\n\n<style></style>\n","import { render } from \"./index.vue?vue&type=template&id=234e16f3\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/pipe/pipe/pi4/groups/aesfeel/dajin/pibnx/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}